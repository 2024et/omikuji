<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>おみくじ会場</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="icon.ico">
</head>
<body>
    <h1>おみくじ会場</h1>
    <div class="container section">
        <p id="output" class="output"></p>
    </div>

    <br><br>

    <div class="div-center">
        <button class="btn" onclick="location.href='index.html'">戻る</button>
    </div>

    <script>
        const fortunes = ["大大吉！！\n[恋愛]：心が通じ合う奇跡的な出会いが訪れる！\n[健康]：エネルギーに満ち、多少の無理も乗り越えられる年！\n[学問]：挑戦してきたことが評価され、大きく飛躍できる。\n[金運]：思い切った決断が豊かさを呼び込む！",

        "大大吉！！\n[恋愛]：長く続くご縁が始まる予感。\n[健康]：心身ともに安定し、充実感を得られる一年。\n[学問]：努力以上の成果を実感できる年。\n[金運]：チャンスを掴むことで大きな実りがある。",

        "大吉！\n[恋愛]：素直な気持ちが幸運を引き寄せる年！\n[健康]：体調管理がうまくいき、毎日を前向きに過ごせる。\n[学問]：集中力が高まり、成果が目に見えて現れる。\n[金運]：計画的な行動が安定した運気につながる。",

        "大吉！\n[恋愛]：笑顔が魅力となり、人との距離が縮まる！\n[健康]：生活習慣の改善で、調子の良さを実感。\n[学問]：新しい知識が自信につながる年！\n[金運]：堅実な判断が良い結果を生む。",

        "大吉！\n[恋愛]：意外な場所で心ときめく出会いが。\n[健康]：無理をしなければ好調を維持できる。\n[学問]：継続してきた努力が形になる年。\n[金運]：小さな幸運が積み重なる。",

        "中吉！\n[恋愛]：自分らしさを大切にすると良縁に恵まれる。\n[健康]：適度な運動が運気アップのポイント。\n[学問]：苦手分野に向き合うと成長できる。\n[金運]：必要なところに使うと満足感が高まる。",

        "中吉！\n[恋愛]：会話を大切にすると関係が深まる年。\n[健康]：睡眠を意識すると体調が安定。\n[学問]：基礎を固めることで後半に伸びる。\n[金運]：無駄遣いを控えることで安心感が増す。",

        "中吉！\n[恋愛]：ゆっくり育つ恋に縁がある。\n[健康]：気分転換が心身のリフレッシュに。\n[学問]：新しい方法を試すと効率が上がる。\n[金運]：人からの助言が金運を支える。",

        "中吉！\n[恋愛]：一歩踏み出す勇気がチャンスを生む。\n[健康]：体を温める習慣が調子を整える。\n[学問]：環境を変えることで集中力アップ。\n[金運]：長期的な視点が吉。",

        "中吉！\n[恋愛]：自然な流れに任せると良い結果に。\n[健康]：休息をしっかり取ることで安定。\n[学問]：小さな成功体験が自信になる。\n[金運]：堅実な選択が後で評価される。",

        "小吉！\n[恋愛]：身近な人との信頼関係が深まる年。\n[健康]：無理をしないペース配分が大切。\n[学問]：復習を重ねることで理解が進む。\n[金運]：節度ある支出が安心を生む。",

        "小吉！\n[恋愛]：焦らず待つことで良縁に近づく。\n[健康]：軽い運動が気分転換に最適。\n[学問]：目標を細かく設定すると続けやすい。\n[金運]：必要な出費は惜しまないのが吉。",

        "小吉！\n[恋愛]：思いやりの言葉が運気を高める。\n[健康]：生活リズムを整えると好調に。\n[学問]：コツコツ型の努力が実を結ぶ。\n[金運]：小さな節約が大きな安心につながる。",

        "小吉！\n[恋愛]：友情から恋へ発展する可能性あり。\n[健康]：体調の変化に早めに気づくと吉。\n[学問]：苦手意識を減らす工夫が鍵。\n[金運]：慎重な判断で損を避けられる。",

        "小吉！\n[恋愛]：自分磨きが魅力を高める一年。\n[健康]：ストレス発散を意識すると安定。\n[学問]：ペースを守ることで着実に前進。\n[金運]：計画的な管理が安心を生む。",

        "末吉！\n[恋愛]：小さなきっかけが関係を変える。\n[健康]：体を休める時間を意識して。\n[学問]：今は基盤づくりの時期。\n[金運]：無理な出費は控えると吉。",

        "末吉！\n[恋愛]：周囲の意見に耳を傾けると良縁に。\n[健康]：体調管理を最優先に。\n[学問]：焦らず進めば成果は後からついてくる。\n[金運]：現状維持が安定を呼ぶ。",

        "末吉！\n[恋愛]：慎重な姿勢が信頼を生む。\n[健康]：規則正しい生活が運気を支える。\n[学問]：基礎の見直しが今後に活きる。\n[金運]：堅実さが一番の近道。",

        "吉！\n[恋愛]：素直な気持ちが幸運を招く。\n[健康]：小さな習慣改善が大きな変化に。\n[学問]：学ぶ姿勢が評価される年。\n[金運]：安定した流れを保てる。",

        "吉！\n[恋愛]：前向きな行動が良い縁を呼ぶ。\n[健康]：心の余裕が体調にも良い影響。\n[学問]：楽しみながら学ぶと成果が出る。\n[金運]：無理のない範囲で充実感を得られる。",

        "大吉（※気持ちだけ）！\n[恋愛]：目が合っただけで運命と思いがち。だいたい勘違い。\n[健康]：元気だが夜更かししがち。\n[学問]：やる気は満点、着手は明日。\n[金運]：財布の中身と相談必須。",

        "中吉（自己申告）！\n[恋愛]：LINEは続くが進展はしない。\n[健康]：寝れば回復、寝なければ終了。\n[学問]：調べ物で満足しがち。\n[金運]：なぜか小銭だけ増える。",

        "小吉（たぶん）！\n[恋愛]：優しさが「いい人」で終わる危険。\n[健康]：肩こりと永遠に和解できない。\n[学問]：集中力は最初の10分限定。\n[金運]：セールに弱く、後悔に強い。",

        "凶寄り吉！\n[恋愛]：期待すると何も起きない、忘れた頃に何か起きる。\n[健康]：元気だと思った翌日に崩れる。\n[学問]：締切が近づくと才能が覚醒。\n[金運]：出費は多いが記憶に残らない。",

        "大凶…？と思わせて吉！\n[恋愛]：何も起きない＝平和。\n[健康]：大きな不調なし、それが最高。\n[学問]：淡々と進めばちゃんと終わる。\n[金運]：使わなければ減らない。"]

        let result;

        //通常アクセス時のみ結果を算出しリロード時は結果を変更しない
        if (!sessionStorage.getItem("fortuneGenerated")) {
        result = fortunes[Math.floor(Math.random() * fortunes.length)];
        sessionStorage.setItem("fortuneGenerated", result);
        } else {
        result = sessionStorage.getItem("fortuneGenerated");
        }

        //タイトルのみspanタグ化
        result = result.replace(
        /^(大大吉！！|大吉！|中吉！|小吉！|末吉！|吉！|大吉（※気持ちだけ）！|中吉（自己申告）！|小吉（たぶん）！|凶寄り吉！|大凶…？と思わせて吉！)/,
        "<span class='rank'>$1</span>"
        );

        document.getElementById("output").innerHTML = result.replace(/\n/g, "<br>");


        //F12の使用禁止
        document.addEventListener("keydown", function (e) {
            if (
            e.key === "F12" ||
            (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) ||
            (e.ctrlKey && e.key === "U")
            ) {
            e.preventDefault();
            }
        });

        //F5の使用禁止
        document.addEventListener("keydown", function (e) {
            if (
            e.key === "F5" ||
            (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) ||
            (e.ctrlKey && e.key === "U")
            ) {
            e.preventDefault();
            }
        });

        //Rの使用禁止
        document.addEventListener("keydown", function (e) {
        if (e.key === "r" || e.key === "R") {
            e.preventDefault();
            return;
        }

        if (
            (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) ||
            (e.ctrlKey && e.key === "U")
            ) {
            e.preventDefault();
            }
        });

        //右クリックの使用禁止
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault(); 
        });
</script>
</body>
</html>